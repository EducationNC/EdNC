{"version":3,"sources":["../assets/scripts/wp-embed-template.js"],"names":["window","document","sendEmbedMessage","message","value","parent","postMessage","secret","onLoad","loaded","self","top","Math","ceil","body","getBoundingClientRect","height","onResize","clearTimeout","resizing","setTimeout","getSecret","location","hash","replace","secretTimeout","supportedBrowser","querySelector","addEventListener","documentElement","className"],"mappings":"CAAA,SAAAA,EAAAC,GACA,YAQA,SAAAC,GAAAC,EAAAC,GACAJ,EAAAK,OAAAC,aACAH,QAAAA,EACAC,MAAAA,EACAG,OAAAA,GACA,KAGA,QAAAC,KACAC,IAGAA,GAAA,EAEAT,EAAAU,OAAAV,EAAAW,KAOAT,EAAA,SAAAU,KAAAC,KAAAZ,EAAAa,KAAAC,wBAAAC,UAMA,QAAAC,KACAjB,EAAAU,OAAAV,EAAAW,MAIAO,aAAAC,GAEAA,EAAAC,WAAA,WACAlB,EAAA,SAAAU,KAAAC,KAAAZ,EAAAa,KAAAC,wBAAAC,UACA,MAMA,QAAAK,KACArB,EAAAU,OAAAV,EAAAW,KAAAJ,IAIAA,EAAAP,EAAAsB,SAAAC,KAAAC,QAAA,0BAAA,MAEAN,aAAAO,GAEAA,EAAAL,WAAA,WACAC,KACA,MA3DA,GAEAd,GACAkB,EACAN,EAJAO,EAAAzB,EAAA0B,eAAA3B,EAAA4B,iBACAnB,GAAA,CA6DAiB,KACAL,IACApB,EAAA4B,gBAAAC,UAAA7B,EAAA4B,gBAAAC,UAAAN,QAAA,YAAA,IAAA,MACAvB,EAAA2B,iBAAA,mBAAApB,GAAA,GACAR,EAAA4B,iBAAA,OAAApB,GAAA,GACAR,EAAA4B,iBAAA,SAAAX,GAAA,KAEAjB,OAAAC","file":"wp-embed-template.js","sourcesContent":["(function ( window, document ) {\n\t'use strict';\n\n\tvar supportedBrowser = ( document.querySelector && window.addEventListener ),\n\t\tloaded = false,\n\t\tsecret,\n\t\tsecretTimeout,\n\t\tresizing;\n\n\tfunction sendEmbedMessage( message, value ) {\n\t\twindow.parent.postMessage( {\n\t\t\tmessage: message,\n\t\t\tvalue: value,\n\t\t\tsecret: secret\n\t\t}, '*' );\n\t}\n\n\tfunction onLoad() {\n\t\tif ( loaded ) {\n\t\t\treturn;\n\t\t}\n\t\tloaded = true;\n\n\t\tif ( window.self === window.top ) {\n\t\t\treturn;\n\t\t}\n\n\t\t/**\n\t\t * Send this document's height to the parent (embedding) site.\n\t\t */\n\t\tsendEmbedMessage( 'height', Math.ceil( document.body.getBoundingClientRect().height ) );\n\t}\n\n\t/**\n\t * Iframe resize handler.\n\t */\n\tfunction onResize() {\n\t\tif ( window.self === window.top ) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearTimeout( resizing );\n\n\t\tresizing = setTimeout( function () {\n\t\t\tsendEmbedMessage( 'height', Math.ceil( document.body.getBoundingClientRect().height ) );\n\t\t}, 100 );\n\t}\n\n\t/**\n\t * Re-get the secret when it was added later on.\n\t */\n\tfunction getSecret() {\n\t\tif ( window.self === window.top || !!secret ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsecret = window.location.hash.replace( /.*secret=([\\d\\w]{10}).*/, '$1' );\n\n\t\tclearTimeout( secretTimeout );\n\n\t\tsecretTimeout = setTimeout( function () {\n\t\t\tgetSecret();\n\t\t}, 100 );\n\t}\n\n\tif ( supportedBrowser ) {\n\t\tgetSecret();\n\t\tdocument.documentElement.className = document.documentElement.className.replace( /\\bno-js\\b/, '' ) + ' js';\n\t\tdocument.addEventListener( 'DOMContentLoaded', onLoad, false );\n\t\twindow.addEventListener( 'load', onLoad, false );\n\t\twindow.addEventListener( 'resize', onResize, false );\n\t}\n})( window, document );\n"],"sourceRoot":"assets/scripts/"}
!function(n){"use strict";var i={};i.clicked=!1,i.opening=!1,i.close_bumpdown=function(n){n.is(":visible")&&n.slideUp("fast")},i.open_bumpdown=function(n){n.is(":visible")||(i.opening=!0,n.slideDown("fast",function(){i.opening=!1}))},n.fn.bumpdown=function(){return this.each(function(){var o=n(this),e=o.attr("id"),t=o.find(".target");o.addClass("bumpdown-trigger");var s=o.parents().filter(function(){return"block"===n(this).css("display")}).first();t.length||(t=o),e||n.error("bumpdowns need an id");var c='[data-trigger="'+e+'"]',d=n(c);d.addClass("bumpdown");var a={};a.offset=t.offset(),a.width=t.outerWidth(),a.halfway=a.offset.left-s.offset().left+Math.round(a.width/2)-16,d.prepend('<a class="bumpdown-close" title="Close"><i class="dashicons dashicons-no"></i></a>'),d.prepend('<span class="bumpdown-arrow" style="left: '+a.halfway+'px;"></span>'),n(document).on("click",c,function(){d.is(":visible")&&!i.opening&&(i.clicked=!0)}),n(document).on("click",function(){i.clicked||i.opening||!d.is(":visible")||i.close_bumpdown(d),i.clicked=!1}),o.on("mouseover",function(){o.doTimeout(e,300,function(){d.is(":visible")||i.open_bumpdown(d)})}),o.on("click",function(n){n.preventDefault(),d.is(":visible")||(n.stopPropagation(),i.open_bumpdown(d))}),d.find(".bumpdown-close").on("click",function(n){n.preventDefault(),n.stopPropagation(),i.close_bumpdown(d)})})}}(jQuery);